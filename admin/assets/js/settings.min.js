function digits_settings_select(e){e.each(function(){var e=jQuery(this),t=e.parent(),i={dir:digsetobj.direction,minimumResultsForSearch:8,dropdownParent:t,dropdownCssClass:"digits-select-dropdown digits-settings-dropdown",theme:"default digits-select digits-settings-select"};e.data("source")&&(i.minimumInputLength=0,i.ajax={url:digsetobj.ajax_url,dataType:"json",delay:50,cache:!0,data:function(e){return{search:e.term,action:jQuery(this).data("source"),nonce:jQuery(this).data("nonce")}}}),e.attr("placeholder")&&(i.placeholder=e.attr("placeholder")),e.untselect(i)})}jQuery(function(){jQuery(".dig_admin_checkbox_switch").each(function(e){jQuery(this).closest("tr").addClass("digits_checkbox_row")}),jQuery(".dig_multiselect_phone_dynamic_enable").untselect({tags:!0,tokenSeparators:[","," "],createTag:function(e){return jQuery.isNumeric(e.term)?{id:e.term,text:e.term}:null}}),jQuery(".dig_multiselect_dynamic_enable").untselect({dir:digsetobj.direction,tags:!0,tokenSeparators:[","," "],dropdownCssClass:"digits-select-dropdown digits-settings-dropdown",theme:"default digits-select digits-settings-select"}),digits_settings_select(jQuery(".digits_admim_conf").find("select").not(".dig_multiselect_dynamic_enable, .dig_ignore_untselect"));var e=jQuery(".dig-reg-fields").find("tbody");if(e.length){var t=jQuery("#dig_sortorder"),i=t.val().split(",");e.find("tr").sort(function(e,t){var r=jQuery.inArray(e.id,i),a=jQuery.inArray(t.id,i);return r<a?-1:r>a?1:0}).appendTo(e),e.sortable({update:function(e,i){var r=jQuery(this).sortable("toArray").toString();t.val(r),j()}})}var r=0,a=(jQuery(".dig_sb_back"),jQuery(".dig_sb_head")),n=(jQuery(".dig_admin_side"),jQuery(".dig_op_wdz_btn"),jQuery(".dig_settings_Form")),d=jQuery(".dig_fields_options_main"),s=jQuery("#dig_purchasecode"),o=jQuery(".digits-setting_save_indicator");jQuery(".bg_color").addClass("digits_color_picker").attr({"data-alpha-enabled":"true"}).wpColorPicker(),jQuery("select[name='digit_whatsapp_gateway']").on("change",function(){var e=jQuery(this).closest(".digits_gateway_api_box");-1==jQuery(this).val()?(e.addClass("digits_gateway-disabled"),e.find(".dig_whatsapp_messagetemplate").removeAttr("required")):(e.removeClass("digits_gateway-disabled"),e.find(".dig_whatsapp_messagetemplate").attr("required","true"))}),jQuery("input[name='dig_page_type']").on("change",function(){var e=jQuery(this).attr("name"),t=jQuery("input[name='dig_page_type']:checked").val();jQuery(".dig_page_active").hide().removeClass("dig_page_active"),jQuery("."+e+"_"+t).show().addClass("dig_page_active");var i=jQuery(".dig_page_type_1_2").find("th").find("label"),r=i.attr("data-type"+t);i.text(r)}),jQuery("input[name='dig_modal_type']").on("change",function(){var e=jQuery(this).attr("name"),t=jQuery("input[name='dig_modal_type']:checked").val();jQuery(".dig_modal_active").hide().removeClass("dig_modal_active"),jQuery("."+e+"_"+t).show().addClass("dig_modal_active");var i=jQuery(".dig_modal_type_1_2").find("th").find("label"),r=i.attr("data-type"+t);i.text(r)}),jQuery(".dig_page_type_1").hide(),jQuery(".dig_page_type_2").hide(),jQuery("input[name='dig_page_type']").trigger("change"),jQuery(".dig_modal_type_1").hide(),jQuery(".dig_modal_type_2").hide(),jQuery("input[name='dig_modal_type']").trigger("change");var u=jQuery(".dig_presets_modal"),c=jQuery("#dig_presets_box");jQuery("#dig_open_preset_box").on("click",function(){c.fadeIn("fast"),Ce(),n.addClass("dig_settings_blur"),jQuery("#dig_presets_list").slick({dots:!1,infinite:!0,speed:300,slidesToShow:3,centerMode:!1,variableWidth:!1,slidesToScroll:1})}),jQuery(".dig_presets_modal_head_close").on("click",function(){n.removeClass("dig_settings_blur"),u.fadeOut("fast"),Ae(),hideDigMessage()});var l=jQuery(".dig-tab-wrapper");if(l.length){jQuery(".dig_admin_floating_submit").outerWidth(!0),jQuery(".dig_admin_left_side");jQuery(window).on("load",function(){}),jQuery(window).on("resize",function(){y()});var g=822,_=l.offset().top,f=jQuery("#wpadminbar").outerHeight(!0);function y(){var e=jQuery(window).scrollTop();_-e<=f&&jQuery(window).width()>=g?l.addClass("dig-tab-wrapper-sticky").css({top:f}):l.removeClass("dig-tab-wrapper-sticky")}jQuery(window).on("scroll",function(){y()}),jQuery(window).trigger("scroll")}$mainNav=jQuery(".dig-tab-ul"),jQuery(document).on("click",".dig_popmessage",function(){jQuery(this).closest(".dig_popmessage").slideUp("fast",function(){jQuery(this).remove()})}),$mainNav.append("<li id='dig-tab-magic-line' style='display: none'></li>");jQuery("#dig-tab-magic-line");jQuery(document).on("click",".dig_big_preset_show",function(){jQuery(this).fadeOut("fast")}),jQuery(document).on("click",".dig_preset_big_img",function(){var e=jQuery(this).attr("href"),t=jQuery(".dig_big_preset_show");return t.find("img").attr("src","").attr("src",e),t.fadeIn("fast"),!1}),jQuery(".digits_admim_conf .updatetabview").on("click",function(){var e=jQuery(this).attr("tab"),t=jQuery(this).attr("acr"),i=jQuery(this).attr("refresh");if(void 0!==i&&!1!==i)return location.reload(),!0;if(be.hasClass("menu_open")&&be.removeClass("menu_open"),void 0!==t&&!1!==t){var r=s.attr("invalid");if(36!=s.val().length||1==r)return showDigNoticeMessage(digsetobj.plsActMessage),jQuery("#dig_activatetab").length&&(jQuery("#dig_activatetab").click(),s.focus()),!1}var a=jQuery("."+e);jQuery(this);return a.hasClass("digcurrentactive")||(a.data("attach")&&jQuery("."+a.data("attach")),jQuery(".digcurrentactive").removeClass("digcurrentactive").hide(),a.fadeIn(150).addClass("digcurrentactive"),a.offset()&&jQuery(".dig-tab-wrapper-sticky").length&&jQuery("html, body").animate({scrollTop:a.offset().top-90},220),jQuery(".dig-nav-tab-active").removeClass("dig-nav-tab-active"),jQuery(this).addClass("dig-nav-tab-active"),function(e,t){var i=window.location.href;if((r=new RegExp("[?|&]"+e+"=[0-9a-zA-Z_+-|.,;]*")).test(i)){var r,a=(r=new RegExp("[?&]"+e+"=([^&#]*)")).exec(i)[0].charAt(0);i=i.replace(r,a+e+"="+t)}else{var n=e+"="+t;if(i.indexOf("?")||(i+="?"),i.indexOf("#")>-1){var d=i.split("#");i=d[0]+"&"+n+(d[1]?"#"+d[1]:"")}else i+="&"+n}window.history.pushState(null,document.title,i)}("tab",e.slice(0,-3))),!1}),jQuery(".dig_gs_nmb_ovr_spn").find("input").on("keyup change",function(){jQuery(this).val().length;jQuery(this).parent().find("span").stop().animate({left:Math.max(51,jQuery(this).attr("dig-min"))},"fast")}).trigger("keyup");var h=!1;jQuery(".digits_admim_conf textarea,.digits_admim_conf input").on("keyup",function(){jQuery(this).attr("readonly")||jQuery(this).attr("dig-save")||(jQuery(this).closest(".digcon").length||m())}),jQuery(".digits_admim_conf input,.digits_admim_conf select,.dig_activation_form input").on("change",function(){jQuery(this).attr("readonly")||jQuery(this).attr("dig-save")||m()});var p=jQuery("#dig_purchasecode"),v=jQuery("#dig_addonstab");function m(){h||(h=!0),j()}function j(){jQuery(window).trigger("digits_admin_save"),jQuery(".dig_admin_submit").removeAttr("disabled")}function Q(e){if(!e.attr("nocop")){e.select(),document.execCommand("copy");var t=e.val();e.val(digsetobj.Copiedtoclipboard),setTimeout(function(){e.val(t)},800)}}if(p.on("change",function(){jQuery(this).attr("readonly")||(v.length&&v.attr("refresh",1),jQuery(".customfieldsNavTab").attr("refresh",1))}),p.on("keyup",function(){jQuery(this).attr("readonly")||(36==jQuery(this).val().length||0==jQuery(this).val().length?(be.find(".dig_prc_ver").hide(),be.find(".dig_prc_nover").hide()):P(-1))}),jQuery(".wp-color-picker").wpColorPicker("option","change",function(e,t){m()}),jQuery(".digits_shortcode_tbs").find("input").on("click",function(){Q(jQuery(this))}),jQuery(".dig_copy_shortcode").on("click",function(){Q(jQuery(this).parent().find("input"))}),jQuery(".dig_drop_doc_check").each(function(e){jQuery(this).on("click",function(){var e=jQuery(this).closest("li");e.find(".dig_conf_doc").toggle();var t=e.find("h2").find(".dig_tgb");t.text("+"==t.text()?"-":"+")})}),jQuery.fn.mask){var b=!0,w=!0;function k(e){e.val().toLowerCase().startsWith("digits")?(w&&!b||e.mask("AAAAAA-AAAA-AAAA-AAAA-AAAA-AAAA-AAAA"),w=!0):((w||b)&&e.mask("AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA"),w=!1),b=!1}jQuery(".digits_purchase_code").on("keydown",function(){k(jQuery(this))}),k(jQuery(".digits_purchase_code"))}var C=jQuery(".digit_gateway"),A=jQuery(".dig_load_overlay_gs"),x=(A.length,0);jQuery(".dig_request_server_addition,.dig_href_button").on("click",function(){var e=jQuery(this).attr("href");window.open(e,"_target")});var S=0;jQuery(".dig_domain_type").find("button").on("click auto_update",function(e){var t=jQuery(this).attr("val");be.find("input[name='dig_license_type']").val(t),"auto_update"!==e.type&&1!=S&&(S=0,jQuery("#dig_purchasecode").val("").removeAttr("readonly")),be.find(".dig_prchcde").fadeIn("fast"),be.find(".dig_domain_type").hide(),be.find(".dig_btn_unregister").hide(),1!=t?(be.find(".request_live_server_addition").show(),be.find(".request_testing_server_addition").hide()):(be.find(".request_live_server_addition").hide(),be.find(".request_testing_server_addition").show())}),jQuery(".dig_btn_unregister").on("click",function(){F(),1!=x&&(A.find(".circle-loader").removeClass("load-complete"),A.find(".checkmark").hide());var e=s.val();jQuery.post("https://bridge.unitedover.com/updates/verify.php",{code:e,slug:"digits",request_site:encodeURIComponent(jQuery("input[name='dig_domain']").val()),license_type:jQuery("input[name='dig_license_type']").val(),addons:jQuery("input[name='dig_addons_list']").val(),unregister:1,version:jQuery("input[name='dig_version']").val(),settings:1},function(e,t){return 1==e?(jQuery(".dig_domain_type").fadeIn("fast"),jQuery(".dig_prchcde").fadeOut(),jQuery(".dig_prc_ver").fadeOut(),jQuery(".dig_prc_nover").hide(),jQuery("#dig_purchasecode").val("").removeAttr("readonly").trigger("change")):showDigErrorMessage(e),jQuery(".dig_activation_form").submit(),!1})});var O,T=jQuery("#digits_admin_activation");function N(){T.find("#dig_purchasecode").val().length>0&&(T.fadeOut(),jQuery(".dig_admin_dashboard_wrapper").removeClass("dig_settings_blur"))}jQuery(".digits_show_purchasecode").on("click",function(e){var t=jQuery("#digits_dashboard");return t.click(),T.fadeIn("fast"),jQuery(".dig_admin_dashboard_wrapper").addClass("dig_settings_blur"),jQuery("html, body").animate({scrollTop:t.offset().top-jQuery(window).height()/3},300),!1}),jQuery(".digits_admin_activation_modal_back_drop").on("click",function(e){return N(),!1});var D=!1,q=jQuery(".dig_activation_form");q.on("submit",function(e){e.preventDefault(),$(jQuery(this),!1,null,null)});var M=!1;I=setTimeout(function(){M=!0},450);var I=!1;jQuery(window).on("digits_admin_save",function(e){M&&(I&&clearTimeout(I),I=setTimeout(function(){I=!1,D=!1,$(q,!1,null,null)},1100))});var E="";function $(e,t,i,r){if(O=e,D)return!1;D=!0,hideDigMessage(),F();var a=O,n=s.val();if(0==n.length)return be.find(".dig_prc_ver").hide(),be.find(".dig_prc_nover").hide(),D=!1,R(a,-1),!1;if(36!=n.length)return showDigErrorMessage(digsetobj.invalidpurchasecode),be.find(".dig_prc_ver").hide(),be.find(".dig_prc_nover").show(),D=!1,R(a,-1),!1;if(E===n)return D=!1,R(a,1),be.find(".dig_pc_notice").hide(),!1;D=!1;return be.find(".dig_prc_ver").show(),be.find(".dig_prc_nover").hide(),s.attr("invalid",0),E=n,be.find(".dig_btn_unregister").show(),be.find("#dig_purchasecode").attr("readonly",!0),A.attr("ajxsu")?be.find(".dig_activation_form").unbind("submit").submit():(R(a,1),be.find(".dig_pc_notice").hide()),!1}function P(e){be.find("#dig_purchasecode").removeAttr("readonly"),be.find(".dig_prc_ver").hide(),be.find(".dig_prc_nover").show(),e>0&&A.hide()}function F(){J&&clearTimeout(J),o.addClass("saving").removeClass("saved").fadeIn("fast")}window.digits_admin_submit=$;var J=!1;function R(e,t){D=!1,function(){if(jQuery("#digits_usage_data_sharing").is(":checked")){var e={};jQuery(".digtabview").not(".dig_sens_data").find("input,select").not(".dig_sens_data").each(function(t){if(this.name){var i=jQuery(this),r=i.attr("type");if(!r||"checkbox"!==r&&"radio"!==r||i.is(":checked")){var a=this.name,n=this.value;e.hasOwnProperty(a)?e[a]=e[a]+","+n:e[a]=n}}}),e.sms_gateway=jQuery(".digit_gateway").val(),e.email_gateway=jQuery("#digit_email_gateway").val(),e.whatsapp_gateway=jQuery("#digit_whatsapp_gateway").val(),function(e,t){jQuery.ajax({type:"POST",url:e,data:{d:qe(t)}})}("https://bridge.unitedover.com/feedback/usage/plugin.php",JSON.stringify(e))}}(),N();var i=e.serializeArray();e.find("input:checkbox").not(".default_empty").each(function(){if(this.name){var e=0;this.checked&&(e=this.value),i.push({name:this.name,value:e})}}),i.push({name:"pca",value:t}),i.push({name:"action",value:"digits_save_settings"}),jQuery.ajax({type:"POST",url:digsetobj.ajax_url,data:i,success:function(e){A.find(".circle-loader").addClass("load-complete"),A.find(".checkmark").show(),o.addClass("saved").removeClass("saving"),J&&clearTimeout(J),J=setTimeout(function(){J=!1,o.fadeOut("fast"),h=!1,jQuery(".dig_admin_submit").attr("disabled","disabled"),1==x&&pe()},2500)},error:function(){P(),showDigErrorMessage(digsetobj.Error)}})}jQuery("#digits_setting_update button[type='submit']").on("click",function(e){C.value;var t=C.find("option:selected").attr("han");jQuery("#dig_activatetab").hasClass("dig-nav-tab-active")&&jQuery(this).closest("form").trigger("submit");var i=!1;return jQuery("."+t+"cred").find("input, textarea").each(function(){var t=jQuery(this);if(0==t.val().length){var r=t.attr("dig-optional");if(r&&1==r)return;return showDigErrorMessage(digsetobj.PleasecompleteyourAPISettings),i=!0,e.preventDefault(),!1}}),!i&&(jQuery("#digits_setting_update").find("input,textarea, select").each(function(){var t=jQuery(this),r=jQuery(this).val();if(null==r||0==r.length){if(!t.attr("required"))return;var a=t.closest(".digtabview").attr("data-tab");return jQuery("[tab='"+a+"']").trigger("click"),t.focus(),showDigErrorMessage(digsetobj.PleasecompleteyourSettings),i=!0,e.preventDefault(),!1}}),!i)});jQuery("#is_rtl");jQuery(document).on("click",".digits_install_additional_gateways",function(){jQuery("#dig_addonstab").trigger("click")});var L=jQuery(".dig_sb_select_field"),W=jQuery(".dig_fields_options");jQuery(document).on("click",".dig_sb_field_types",function(){K(jQuery(this).attr("data-val"),jQuery(this).attr("data-configure_fields"),null)}),jQuery(document).on("click",".dig_sb_field_wp_wc_types",function(){var e=jQuery(this).attr("data-val"),t=jQuery(this).attr("data-configure_fields"),i=jQuery(this).attr("data-values");K(e,t,i=jQuery.parseJSON(i)),G=!1});var z,U=jQuery("#dig_custom_field_data_type"),H=jQuery("#dig_field_val_list"),Z=jQuery("#dig_field_required"),B=jQuery("#dig_field_meta_key"),V=jQuery("#dig_field_options"),X=jQuery("#dig_field_custom_class"),Y=jQuery("#dig_field_label"),G=!1;function K(e,t,i){if(G=!1,ge(),t=jQuery.parseJSON(t),a.text(t.name),1==t.meta_key?B.show():B.hide(),0==t.force_required?Z.show():Z.hide(),1==t.options?V.show():V.hide(),jQuery(".dig_sb_extr_fields").hide(),null!=t.slug&&jQuery(".dig_sb_field_"+t.slug).show(),null!=i){if(G=!0,z=i.meta_key,Y.find("input").val(i.label).trigger("change"),Z.find("select").val(i.required).trigger("change"),B.find("input").val(i.meta_key).trigger("change"),X.find("input").val(i.custom_class).trigger("change"),null!=i.options){var n=i.options.toString();n=n.split(","),H.empty()}if(null!=t.slug&&jQuery(".dig_sb_field_"+t.slug).find("input,textarea").each(function(){if(jQuery(this).is(":checkbox"))-1!=jQuery.inArray(jQuery(this).val(),i.options)?jQuery(this).prop("checked",!0).trigger("update"):jQuery(this).prop("checked",!1).trigger("update");else{var e=jQuery(this).attr("name"),t=i[e];if(null==t)return;t=(t=t.replace("/x22",'"')).replace("/x27","'"),jQuery(this).val(i[e])}}),ne.text("Save"),r=0,null!=i.options)for(var s=0;s<n.length;s++)ee(n[s])}else{var o=t.name+"_"+jQuery.now();null!=t.pref_label?Y.find("input").val(t.pref_label):Y.find("input").val(""),Z.find("select").val(1).change(),B.find("input").val(o.toLowerCase()),X.find("input").val(""),H.empty(),ne.text("Add"),r=1,jQuery("#dig_field_roles input").prop("checked",!1).trigger("update")}U.val(e),d.show(),ne.show(),L.slideUp("fast"),W.fadeIn("fast")}function ee(e){H.append("<li></li>").find("li:last-child").text(e).append('<div class="dig_delete_opt_custf"></div>').show()}var te=jQuery(".dig_side_bar"),ie=jQuery("#dig_cus_field_footer"),re=jQuery(".dig_admin_cancel");re.on("click",function(e){return 1==r?(G=!1,ge()):_e(),!1}),jQuery(".dig_sb_field_add_opt").on("click",function(){jQuery(".dig_sb_field_list_input").trigger("focusout")}),jQuery(".dig_sb_field_list_input").keypress(function(e){13==e.keyCode&&(e.preventDefault(),jQuery(this).trigger("focusout"))}),jQuery(document).on("keyup",function(e){hideDigMessage(),27==e.keyCode&&_e()});var ae=jQuery(".dig_sb_field"),ne=jQuery(".dig_cus_field_done");ae.find("input").keydown(function(e){if(13==e.keyCode&&!jQuery(this).hasClass("dig_sb_field_list_input"))return ne.click(),e.preventDefault(),!1});var de=jQuery(".customfieldstab");var se,oe=jQuery("#dig_reg_custom_field_data");if(oe.length){var ue=oe.val();0!=ue.length&&"[]"!=ue||(ue="{}")}try{se=jQuery.parseJSON(ue),null==ne&&(se={})}catch(Me){se={}}var ce=jQuery("#dig_custom_field_table").find("tbody");function le(e){return(e=jQuery.trim(e.replace(/\s/g,""))).toLowerCase()}function ge(){Ce(),a.text(digsetobj.selectatype),r=0,L.show(),d.hide(),ne.hide(),n.addClass("dig_settings_blur"),te.fadeIn("fast",function(){W.show(),ie.show(),setTimeout(function(){jQuery("html, body").animate({scrollTop:jQuery(".digits_admin_add_field_modal_wrapper").offset().top-100},300)},20)})}function _e(){hideDigMessage(),M=!0,n.removeClass("dig_settings_blur"),jQuery(".dig_sb_field_list_input").val("");te.outerWidth(!0);ie.hide(),te.fadeOut("fast",function(){te.hide()}),Ae()}ne.on("click",function(){var i=!1,r=0;if(ae.each(function(){var e=jQuery(this);if(e.is(":visible")&&1==e.attr("data-req")){var t=e.attr("data-list");if(2==t){if(r=1,0==e.find("input:checked").length)return i=digsetobj.PleasecompleteyourCustomFieldSettings,!1}else if(1==t){if(0==e.find("ul").find("li").length)return i=digsetobj.PleasecompleteyourCustomFieldSettings,!1}else{var a=e.find("input");if(a.length>0&&0==jQuery.trim(a.val()).length)return i=digsetobj.PleasecompleteyourCustomFieldSettings,!1}}}),i)return showDigNoticeMessage(i),!1;var a,n,d,s,o=(a=te.find("input,select,textarea"),n=a.serializeArray(),d={},jQuery.map(n,function(e,t){var i,r=e.name,a=de.find("[name="+r+"]");i="adv_html"===r?e.value:a.is("textarea")?(i=e.value.replace('"',"/x22")).replace("'","/x27"):e.value.replace(/<(?:.|\n)*?>/gm,""),d[r]=i}),d),u=[];if(1==r?jQuery("#dig_field_roles input").each(function(){if(jQuery(this).is(":checked")){var e=jQuery(this).val();u.push(e.replace(/<(?:.|\n)*?>/gm,""))}}):H.find("li").each(function(){var e=jQuery(this).text();u.push(e.replace(/<(?:.|\n)*?>/gm,""))}),o.options=u,o.type=U.val(),!G&&se.hasOwnProperty(o.meta_key))return showDigNoticeMessage(digsetobj.fieldAlreadyExist),!1;try{G?(se[z]=o,s=(s=JSON.stringify(se)).replace('"'+z+'":{','"'+o.meta_key+'":{'),se=JSON.parse(s)):(se[o.meta_key]=o,s=JSON.stringify(se))}catch(e){se={}}oe.val(s),_e();var c='<tr id="dig_cs_'+le(o.meta_key)+'" class="dig_field_type_'+o.type.toLowerCase()+'" dig-lab="'+le(o.meta_key)+'">\n            <th scope="row"><label>'+o.label+' </label></th>\n            <td>\n                <div class="dig_custom_field_list">\n                   <span>'+function(e){switch(e){case"0":return digsetobj.string_optional;case"1":return digsetobj.string_required;default:return null}}(o.required)+'</span>                    <div class="dig_icon_customfield">\n                        <div class="icon-shape icon-shape-dims dig_cust_field_delete"></div>\n                        <div class="icon-drag icon-drag-dims dig_cust_field_drag"></div>\n                        <div class="icon-gear icon-gear-dims dig_cust_field_setting"></div>\n                    </div>\n                </div>\n            </td>\n        </tr>';if(G){var l=le(z.replace(/[\*\^\'!]/g,""));jQuery("#dig_cs_"+l).replaceWith(c)}else ce.append(c);m();var g=e.sortable("toArray").toString();t.val(g)}),jQuery(document).on("click",".dig_cust_field_setting",function(){var e=jQuery(this).closest("tr").attr("dig-lab"),t=se[e].type;K(t,jQuery("#dig_cust_list_type_"+t).attr("data-configure_fields"),se[e])}),jQuery(document).on("click",".dig_delete_opt_custf",function(){jQuery(this).closest("li").remove()}),jQuery(document).on("click",".dig_cust_field_delete",function(){var i=jQuery(this).closest("tr"),r=i.attr("dig-lab");i.slideUp().remove(),delete se[r],oe.val(JSON.stringify(se));var a=e.sortable("toArray").toString();t.val(a),m()}),jQuery(".dig_hide_modal, .dig_addons_pop").on("click",function(){jQuery(".dig-addon-box").fadeOut("fast",function(){jQuery(this).remove()}),jQuery("body").css("overflow","auto")}),jQuery("#dig_add_new_reg_field").on("click",function(){M=!1,te.is(":visible")&&!G?re.trigger("click"):(G=!1,ge())});var fe,ye=document.getElementById("dig_field_val_list");if(ye)Sortable.create(ye);jQuery(".dig_sb_field_list_input").focusout(function(){hideDigMessage();var e=jQuery(this).val(),t=!1;e.length>0&&(H.find("li").each(function(){if(jQuery(this).text()==e)return t=!0,!1}),t?showDigNoticeMessage(digsetobj.duplicateValue):(ee(e),jQuery(this).val(""),te.scrollTop(te[0].scrollHeight)))});var he=jQuery(".dig_load_overlay").first();function pe(){if(1==x){var e,t=fe.find(".digcon"),i=t.find(".mobile").val(),r=t.find(".dig_wc_logincountrycode").val(),a=fe.closest(".dig_gateway_box"),n=0,d=fe.find(".user_email"),s="";d.length?(s=d.val(),e=jQuery("#digit_email_gateway").val()):e=a.length?a.find(".digit_gateway").val():jQuery(".digit_gateway").val(),fe.closest(".dig_whatsapp_api_box").length&&(n=1),x=0,jQuery.ajax({type:"post",async:!0,url:digsetobj.ajax_url,data:{action:"digits_test_api",digt_mobile:i,gateway:e,digt_countrycode:r,whatsapp:n,email:s},success:function(e){ve(e)},error:function(e){ve(e)}})}}function ve(e){x=0,fe.find(".dig_call_test_response").show(),fe.find(".dig_call_test_response_msg").text(e),he.hide()}jQuery(document).on("click",".dig_call_test_api_btn",function(){var e=(fe=jQuery(this).closest(".dig_api_test")).find(".digcon"),t=e.find(".mobile");if(t.length){var i=t.val(),r=e.find(".dig_wc_logincountrycode").val();if(0==i.length||!jQuery.isNumeric(i)||0==r.length||!jQuery.isNumeric(r))return showDigNoticeMessage(digsetobj.validnumber),!1}x=1,he.show(),jQuery(".dig_admin_submit").attr("disabled")?pe():jQuery(".dig_activation_form").trigger("submit")}),jQuery("#digpassaccep").on("change",function(){0==this.value?jQuery(".enabledisableforgotpasswordrow").hide():jQuery(".enabledisableforgotpasswordrow").show()});var me=jQuery("#digits_hidecountrycode");jQuery(".whitelistcountrycodeslist").on("change",function(){1==jQuery(this).find("option:selected").length?me.slideDown("fast"):me.slideUp("fast").find('input[type="checkbox"]').prop("checked",!1).trigger("change")}),C.on("change",function(){var e=jQuery(this).val();if(e&&null!=e){var t=jQuery(this).parent(),i=t.find("option:selected"),r=i.attr("han"),a=jQuery(this).closest(".digits_gateway_api_box");1==i.data("addon")?a.find(".require_addon_text").show():a.find(".require_addon_text").hide(),r=r.replace(".","_"),a.find(".dig_call_test_response").hide(),1111==e||-1==e?a.find(".otp_waiting_time").hide():a.find(".otp_waiting_time").show(),1==e||13==e||-1==e||1111==e?(a.find(".dig_api_test").hide(),13==e&&jQuery(".disotp").hide(),a.find(".dig_current_gateway").hide(),a.find(".digits_message_template_row").hide()):(900!=e?a.find(".dig_current_gateway").show().find("span").text(t.find("option:selected").text()):a.find(".dig_current_gateway").hide(),a.find(".dig_api_test").show(),jQuery(".disotp").show(),a.find(".digits_message_template_row").show()),C.find("option").each(function(e,t){var i=jQuery(this).attr("han");i!=r&&a.find("."+i+"cred").each(function(){jQuery(this).hide().find("input").removeAttr("required")})}),a.find("."+r+"cred").each(function(){var e=jQuery(this).show().find("input"),t=e.attr("dig-optional");t&&1==t||e.attr("required","required")})}}),h=!0,C.trigger("change"),h=!1;var je=jQuery("#dig_export_import_content"),Qe=jQuery(".dig_export_import_values"),be=jQuery("#digits_setting_update"),we=0;jQuery("#digits_configuration_export").on("click",function(){var e=jQuery(this).text(),t=[];he.show(),be.find("input, select, textarea").each(function(){we=1;var e=jQuery(this);if(1!==e.closest(".activatetab").length){var i={};i.name=e.attr("name"),i.value=e.val(),t.push(i)}});var i=JSON.stringify(t),r=ke.encode(function(e){e||(e="");e="undefined"==e||"null"==e?"":e;try{var t=146,i=0;for(ostr="";i<e.length;)ostr+=String.fromCharCode(e.charCodeAt(i)^t),i+=1;return ostr}catch(e){return""}}(i));he.hide(),je.fadeIn("fast"),je.find(".modal_head").text(e),Ce(),n.addClass("dig_settings_blur");var a=je.find("button");a.text(a.attr("attr-export")),Qe.val(r).attr("readonly",!0).select(),document.execCommand("copy")}),jQuery("#digits_configuration_import").on("click",function(){we=2;var e=jQuery(this).text();je.fadeIn("fast"),je.find(".modal_head").text(e);var t=je.find("button");Qe.removeAttr("readonly").val(""),Ce(),t.text(e),n.addClass("dig_settings_blur")}),jQuery(".imp_exp_btn_fn").on("click",function(){if(1==we)Q(Qe);else{var e=function(e){e||(e="");e="undefined"==e||"null"==e?"":e;try{var t=146,i=0;for(ostr="";i<e.length;)ostr+=String.fromCharCode(t^e.charCodeAt(i)),i+=1;return ostr}catch(e){return""}}(ke.decode(Qe.val()));try{var t=JSON.parse(e);jQuery.each(t,function(e,t){var i=be.find('[name="'+t.name+'"]');i.length>0&&i.val(t.value).trigger("change")}),jQuery(".imp_exp_cancel").trigger("click"),jQuery(".dig_activation_form").trigger("submit")}catch(e){showDigErrorMessage(digsetobj.invalidimportcode)}}});var ke={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,r,a,n,d,s,o="",u=0;for(e=ke._utf8_encode(e);u<e.length;)a=(t=e.charCodeAt(u++))>>2,n=(3&t)<<4|(i=e.charCodeAt(u++))>>4,d=(15&i)<<2|(r=e.charCodeAt(u++))>>6,s=63&r,isNaN(i)?d=s=64:isNaN(r)&&(s=64),o=o+ke._keyStr.charAt(a)+ke._keyStr.charAt(n)+ke._keyStr.charAt(d)+ke._keyStr.charAt(s);return o},decode:function(e){var t,i,r,a,n,d,s="",o=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");o<e.length;)t=ke._keyStr.indexOf(e.charAt(o++))<<2|(a=ke._keyStr.indexOf(e.charAt(o++)))>>4,i=(15&a)<<4|(n=ke._keyStr.indexOf(e.charAt(o++)))>>2,r=(3&n)<<6|(d=ke._keyStr.indexOf(e.charAt(o++))),s+=String.fromCharCode(t),64!=n&&(s+=String.fromCharCode(i)),64!=d&&(s+=String.fromCharCode(r));return s=ke._utf8_decode(s)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",i=0,r=c1=c2=0;i<e.length;)(r=e.charCodeAt(i))<128?(t+=String.fromCharCode(r),i++):r>191&&r<224?(c2=e.charCodeAt(i+1),t+=String.fromCharCode((31&r)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),i+=3);return t}};function Ce(){$html=jQuery("html"),$body=jQuery("body");var e=$body.outerWidth(),t=$body.outerHeight(),i=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];$html.data("scroll-position",i),$html.data("previous-overflow",$html.css("overflow")),$html.css("overflow","hidden"),window.scrollTo(i[0],i[1]);var r=$body.outerWidth()-e,a=$body.outerHeight()-t;$body.css({"margin-right":r,"margin-bottom":a})}function Ae(){$html=jQuery("html"),$body=jQuery("body"),$html.css("overflow","auto");var e=$html.data("scroll-position");window.scrollTo(e[0],e[1]),$body.css({"margin-right":0,"margin-bottom":0})}var xe,Se=jQuery("#enable_createcustomeronorder");if(Se.length){function Oe(e){1==e?jQuery(".dig-ccor").each(function(e){jQuery(this).fadeIn()}):jQuery(".dig-ccor").each(function(e){jQuery(this).fadeOut()})}Oe(Se.val()),Se.on("change",function(){Oe(this.value)})}function Te(e){e.removeClass("dig_updating")}function Ne(e){location.reload()}jQuery(".digmodifyaddon").on("click",function(e){var t=jQuery(this);xe=t;var i,r,a,n,d,s=1;he.show(),i=t.attr("type"),a=(r=t.closest(".dig-addon-item")).attr("data-plugin"),n=r.find(".dig_addon_nounce").val(),d=r.find(".dig_plugin_slug").val(),s=1,r.hasClass("dig-addon-item_purchased")&&(s=0),10==i&&t.addClass("dig_updating");var o={};o.nounce=n,o.type=i,o.plugin=a,o.slug=d,o.is_new=s,De(jQuery(this),o,e,Ne,Te)});function De(e,t,i,r,a){if(hideDigMessage(),wp.updates.shouldRequestFilesystemCredentials&&!1===wp.updates.filesystemCredentials.available)return wp.updates.maybeRequestFilesystemCredentials(i),void a(e);var n=function(){var e=jQuery("#hostname").val(),t=jQuery("#username").val(),i=jQuery("#password").val(),r=jQuery('input[name="connection_type"]:checked').val(),a=jQuery("#_fs_nonce").val(),n={_ajax_nonce:wp.updates.ajaxNonce,_fs_nonce:a,hostname:e,username:t,password:i,connection_type:r};return n}();return(t=Object.assign(n,t)).action="dig_modify_addon",jQuery.ajax({type:"POST",url:digsetobj.ajax_url,data:t,success:function(t){!0===t.success?r(e):(a(e),he.hide(),wp.updates.shouldRequestFilesystemCredentials?(wp.updates.filesystemCredentials.available=!1,wp.updates.maybeRequestFilesystemCredentials(i),wp.updates.showErrorInCredentialsForm(t.data.errorMessage)):showDigErrorMessage(t.data.errorMessage))},error:function(){a(e),he.hide(),showDigErrorMessage(digsetobj.Error)}}),!1}function qe(e){return btoa(unescape(encodeURIComponent(e)))}window.digits_install_addon=De,jQuery("#upgrade").on("click",function(e){he.show(),setTimeout(function(){he.hide(),xe.trigger("click")},100)}),jQuery("#digits-update").find("p").each(function(){jQuery(this).find(".thickbox").attr({href:"https://digits.unitedover.com/changelog",target:"_blank",class:""})}),jQuery(document).on("change update",".digits_admim_conf .dig_admin_switch input",function(){var e=jQuery(this).attr("name");if(jQuery(this).hasClass("multi_checkbox")){var t=jQuery("."+e+"_off");!0===jQuery(this).prop("checked")?(jQuery(this).parent().addClass("checked"),t.prop("checked",!1)):(jQuery(this).parent().removeClass("checked").prop("checked",!0),t.prop("checked",!0))}else!0===jQuery(this).prop("checked")?jQuery(this).parent().addClass("checked").prop("checked",!0):jQuery(this).parent().removeClass("checked").prop("checked",!1)}),jQuery(document).on("click",".digits_admim_conf .dig_admin_checkbox",function(){var e=jQuery(this).find("input");e.prop("checked",!e.prop("checked")).trigger("change")});jQuery(".digits_admin_mobile_menu").on("click",function(e){be.hasClass("menu_open"),be.toggleClass("menu_open"),be.find(".dig_admin_left_side").scrollTop(0)})});